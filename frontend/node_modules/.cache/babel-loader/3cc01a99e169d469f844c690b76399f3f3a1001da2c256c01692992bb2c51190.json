{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HealthCheck(){var _healthStatus$status;const[healthStatus,setHealthStatus]=useState(null);const[loading,setLoading]=useState(true);const[lastChecked,setLastChecked]=useState(null);useEffect(()=>{checkHealth();// Set up periodic health checks every 30 seconds\nconst interval=setInterval(checkHealth,30000);return()=>clearInterval(interval);},[]);const checkHealth=async()=>{try{const startTime=Date.now();const response=await axios.get('/api/health');const responseTime=Date.now()-startTime;setHealthStatus({status:'healthy',message:response.data.status,responseTime:responseTime,timestamp:new Date().toISOString()});}catch(error){var _error$response,_error$response$data;setHealthStatus({status:'unhealthy',message:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Service unavailable',responseTime:null,timestamp:new Date().toISOString(),error:error.message});}finally{setLoading(false);setLastChecked(new Date());}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Checking system health...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"health-check\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"System Health Check\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"health-status\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-indicator \".concat(healthStatus===null||healthStatus===void 0?void 0:healthStatus.status),children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-light\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-text\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Backend Service\"}),/*#__PURE__*/_jsx(\"p\",{className:\"status-message\",children:(healthStatus===null||healthStatus===void 0?void 0:healthStatus.status)==='healthy'?'Operational':'Issues Detected'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"health-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value \".concat(healthStatus===null||healthStatus===void 0?void 0:healthStatus.status),children:healthStatus===null||healthStatus===void 0?void 0:(_healthStatus$status=healthStatus.status)===null||_healthStatus$status===void 0?void 0:_healthStatus$status.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Message:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:healthStatus===null||healthStatus===void 0?void 0:healthStatus.message})]}),(healthStatus===null||healthStatus===void 0?void 0:healthStatus.responseTime)&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Response Time:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[healthStatus.responseTime,\"ms\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Last Checked:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:lastChecked===null||lastChecked===void 0?void 0:lastChecked.toLocaleTimeString()})]})]}),(healthStatus===null||healthStatus===void 0?void 0:healthStatus.status)==='unhealthy'&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Error Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",healthStatus.error]}),/*#__PURE__*/_jsxs(\"div\",{className:\"troubleshooting\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Troubleshooting Steps:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Check if the backend server is running\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Verify the database connection\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Check server logs for detailed error messages\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Ensure all required environment variables are set\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"health-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"health-btn\",onClick:checkHealth,children:\"Check Health Now\"}),/*#__PURE__*/_jsx(\"p\",{className:\"auto-refresh\",children:\"Auto-refreshing every 30 seconds\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"system-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"System Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Frontend Version:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:\"1.0.0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"API Base URL:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:axios.defaults.baseURL})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"User Agent:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:navigator.userAgent})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Connection:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:navigator.onLine?'Online':'Offline'})]})]})]})]});}export default HealthCheck;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","HealthCheck","_healthStatus$status","healthStatus","setHealthStatus","loading","setLoading","lastChecked","setLastChecked","checkHealth","interval","setInterval","clearInterval","startTime","Date","now","response","get","responseTime","status","message","data","timestamp","toISOString","error","_error$response","_error$response$data","className","children","concat","toUpperCase","toLocaleTimeString","onClick","defaults","baseURL","navigator","userAgent","onLine"],"sources":["A:/Hackathon/ByteQuest/frontend/src/components/admin/HealthCheck.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction HealthCheck() {\r\n  const [healthStatus, setHealthStatus] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [lastChecked, setLastChecked] = useState(null);\r\n\r\n  useEffect(() => {\r\n    checkHealth();\r\n    // Set up periodic health checks every 30 seconds\r\n    const interval = setInterval(checkHealth, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const checkHealth = async () => {\r\n    try {\r\n      const startTime = Date.now();\r\n      const response = await axios.get('/api/health');\r\n      const responseTime = Date.now() - startTime;\r\n\r\n      setHealthStatus({\r\n        status: 'healthy',\r\n        message: response.data.status,\r\n        responseTime: responseTime,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n    } catch (error) {\r\n      setHealthStatus({\r\n        status: 'unhealthy',\r\n        message: error.response?.data?.error || 'Service unavailable',\r\n        responseTime: null,\r\n        timestamp: new Date().toISOString(),\r\n        error: error.message\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n      setLastChecked(new Date());\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"loading\">Checking system health...</div>;\r\n\r\n  return (\r\n    <div className=\"health-check\">\r\n      <h2>System Health Check</h2>\r\n\r\n      <div className=\"health-status\">\r\n        <div className={`status-indicator ${healthStatus?.status}`}>\r\n          <div className=\"status-light\"></div>\r\n          <div className=\"status-text\">\r\n            <h3>Backend Service</h3>\r\n            <p className=\"status-message\">{healthStatus?.status === 'healthy' ? 'Operational' : 'Issues Detected'}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"health-details\">\r\n          <div className=\"detail-item\">\r\n            <span className=\"detail-label\">Status:</span>\r\n            <span className={`detail-value ${healthStatus?.status}`}>\r\n              {healthStatus?.status?.toUpperCase()}\r\n            </span>\r\n          </div>\r\n          <div className=\"detail-item\">\r\n            <span className=\"detail-label\">Message:</span>\r\n            <span className=\"detail-value\">{healthStatus?.message}</span>\r\n          </div>\r\n          {healthStatus?.responseTime && (\r\n            <div className=\"detail-item\">\r\n              <span className=\"detail-label\">Response Time:</span>\r\n              <span className=\"detail-value\">{healthStatus.responseTime}ms</span>\r\n            </div>\r\n          )}\r\n          <div className=\"detail-item\">\r\n            <span className=\"detail-label\">Last Checked:</span>\r\n            <span className=\"detail-value\">\r\n              {lastChecked?.toLocaleTimeString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {healthStatus?.status === 'unhealthy' && (\r\n          <div className=\"error-details\">\r\n            <h4>Error Details</h4>\r\n            <p><strong>Error:</strong> {healthStatus.error}</p>\r\n            <div className=\"troubleshooting\">\r\n              <h5>Troubleshooting Steps:</h5>\r\n              <ul>\r\n                <li>Check if the backend server is running</li>\r\n                <li>Verify the database connection</li>\r\n                <li>Check server logs for detailed error messages</li>\r\n                <li>Ensure all required environment variables are set</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"health-actions\">\r\n        <button className=\"health-btn\" onClick={checkHealth}>\r\n          Check Health Now\r\n        </button>\r\n        <p className=\"auto-refresh\">Auto-refreshing every 30 seconds</p>\r\n      </div>\r\n\r\n      <div className=\"system-info\">\r\n        <h3>System Information</h3>\r\n        <div className=\"info-grid\">\r\n          <div className=\"info-item\">\r\n            <span className=\"info-label\">Frontend Version:</span>\r\n            <span className=\"info-value\">1.0.0</span>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <span className=\"info-label\">API Base URL:</span>\r\n            <span className=\"info-value\">{axios.defaults.baseURL}</span>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <span className=\"info-label\">User Agent:</span>\r\n            <span className=\"info-value\">{navigator.userAgent}</span>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <span className=\"info-label\">Connection:</span>\r\n            <span className=\"info-value\">{navigator.onLine ? 'Online' : 'Offline'}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HealthCheck;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}