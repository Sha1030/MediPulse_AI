{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{format}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AlertManagement(){const[alerts,setAlerts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadAlerts();},[]);const loadAlerts=async()=>{try{const response=await axios.get('/api/alerts');setAlerts(response.data);}catch(error){console.error('Error loading alerts:',error);setAlerts([]);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading alerts...\"});const activeAlerts=alerts.filter(a=>a.status==='active');const resolvedAlerts=alerts.filter(a=>a.status==='resolved');return/*#__PURE__*/_jsxs(\"div\",{className:\"alert-management\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Alert Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-stat\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Active Alerts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value alert-count\",children:activeAlerts.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-stat\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Resolved Today\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:resolvedAlerts.filter(a=>new Date(a.createdAt).toDateString()===new Date().toDateString()).length})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-list-admin\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"All Alerts\"}),alerts.map(alert=>/*#__PURE__*/_jsxs(\"div\",{className:\"alert-item-admin \".concat(alert.status),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-header-admin\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alert-type-admin\",children:alert.type.replace('_',' ').toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"alert-severity-admin\",children:alert.severity}),/*#__PURE__*/_jsx(\"span\",{className:\"alert-status-admin\",children:alert.status}),/*#__PURE__*/_jsx(\"span\",{className:\"alert-time-admin\",children:format(new Date(alert.createdAt),'MMM dd, HH:mm')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-content-admin\",children:[/*#__PURE__*/_jsx(\"h4\",{children:alert.title}),/*#__PURE__*/_jsx(\"p\",{children:alert.message})]})]},alert._id)),alerts.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-alerts\",children:\"No alerts found\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"alert-btn\",children:\"Create New Alert\"}),/*#__PURE__*/_jsx(\"button\",{className:\"alert-btn\",children:\"Emergency Broadcast\"})]})]});}export default AlertManagement;","map":{"version":3,"names":["React","useState","useEffect","axios","format","jsx","_jsx","jsxs","_jsxs","AlertManagement","alerts","setAlerts","loading","setLoading","loadAlerts","response","get","data","error","console","className","children","activeAlerts","filter","a","status","resolvedAlerts","length","Date","createdAt","toDateString","map","alert","concat","type","replace","toUpperCase","severity","title","message","_id"],"sources":["A:/Hackathon/ByteQuest/frontend/src/components/admin/AlertManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { format } from 'date-fns';\r\n\r\nfunction AlertManagement() {\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadAlerts();\r\n  }, []);\r\n\r\n  const loadAlerts = async () => {\r\n    try {\r\n      const response = await axios.get('/api/alerts');\r\n      setAlerts(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading alerts:', error);\r\n      setAlerts([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"loading\">Loading alerts...</div>;\r\n\r\n  const activeAlerts = alerts.filter(a => a.status === 'active');\r\n  const resolvedAlerts = alerts.filter(a => a.status === 'resolved');\r\n\r\n  return (\r\n    <div className=\"alert-management\">\r\n      <h2>Alert Management</h2>\r\n\r\n      <div className=\"alert-summary\">\r\n        <div className=\"alert-stat\">\r\n          <h3>Active Alerts</h3>\r\n          <div className=\"stat-value alert-count\">{activeAlerts.length}</div>\r\n        </div>\r\n        <div className=\"alert-stat\">\r\n          <h3>Resolved Today</h3>\r\n          <div className=\"stat-value\">{resolvedAlerts.filter(a =>\r\n            new Date(a.createdAt).toDateString() === new Date().toDateString()\r\n          ).length}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"alerts-list-admin\">\r\n        <h3>All Alerts</h3>\r\n        {alerts.map(alert => (\r\n          <div key={alert._id} className={`alert-item-admin ${alert.status}`}>\r\n            <div className=\"alert-header-admin\">\r\n              <span className=\"alert-type-admin\">{alert.type.replace('_', ' ').toUpperCase()}</span>\r\n              <span className=\"alert-severity-admin\">{alert.severity}</span>\r\n              <span className=\"alert-status-admin\">{alert.status}</span>\r\n              <span className=\"alert-time-admin\">\r\n                {format(new Date(alert.createdAt), 'MMM dd, HH:mm')}\r\n              </span>\r\n            </div>\r\n            <div className=\"alert-content-admin\">\r\n              <h4>{alert.title}</h4>\r\n              <p>{alert.message}</p>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {alerts.length === 0 && (\r\n          <div className=\"no-alerts\">No alerts found</div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"alert-actions\">\r\n        <button className=\"alert-btn\">Create New Alert</button>\r\n        <button className=\"alert-btn\">Emergency Broadcast</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AlertManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}