{"ast":null,"code":"import React from'react';import{format}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AlertsTab(_ref){let{alerts,onAcknowledge,user}=_ref;const activeAlerts=alerts.filter(alert=>alert.status==='active');const acknowledgedAlerts=alerts.filter(alert=>alert.acknowledgedBy.some(ack=>ack.userId===user.id));return/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-tab\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Emergency Alerts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Active Alerts (\",activeAlerts.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-list\",children:[activeAlerts.map(alert=>/*#__PURE__*/_jsxs(\"div\",{className:\"alert-item \".concat(alert.severity),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alert-type\",children:alert.type.replace('_',' ').toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"alert-severity\",children:alert.severity}),/*#__PURE__*/_jsx(\"span\",{className:\"alert-time\",children:format(new Date(alert.createdAt),'MMM dd, HH:mm')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:alert.title}),/*#__PURE__*/_jsx(\"p\",{children:alert.message}),alert.recommendedActions&&alert.recommendedActions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert-actions\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Recommended Actions:\"}),/*#__PURE__*/_jsx(\"ul\",{children:alert.recommendedActions.map((action,index)=>/*#__PURE__*/_jsx(\"li\",{children:action.action},index))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onAcknowledge(alert._id),className:\"acknowledge-btn\",disabled:alert.acknowledgedBy.some(ack=>ack.userId===user.id),children:alert.acknowledgedBy.some(ack=>ack.userId===user.id)?'Acknowledged':'Acknowledge'})]})]},alert._id)),activeAlerts.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-alerts\",children:\"No active alerts\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Acknowledged Alerts (\",acknowledgedAlerts.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"alerts-list\",children:acknowledgedAlerts.slice(0,5).map(alert=>/*#__PURE__*/_jsxs(\"div\",{className:\"alert-item acknowledged\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alert-type\",children:alert.type.replace('_',' ').toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"alert-time\",children:format(new Date(alert.createdAt),'MMM dd, HH:mm')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:alert.title}),/*#__PURE__*/_jsx(\"p\",{children:alert.message})]})]},alert._id))})]})]});}export default AlertsTab;","map":{"version":3,"names":["React","format","jsx","_jsx","jsxs","_jsxs","AlertsTab","_ref","alerts","onAcknowledge","user","activeAlerts","filter","alert","status","acknowledgedAlerts","acknowledgedBy","some","ack","userId","id","className","children","length","map","concat","severity","type","replace","toUpperCase","Date","createdAt","title","message","recommendedActions","action","index","onClick","_id","disabled","slice"],"sources":["A:/Hackathon/ByteQuest/frontend/src/components/dashboard/AlertsTab.js"],"sourcesContent":["import React from 'react';\r\nimport { format } from 'date-fns';\r\n\r\nfunction AlertsTab({ alerts, onAcknowledge, user }) {\r\n  const activeAlerts = alerts.filter(alert => alert.status === 'active');\r\n  const acknowledgedAlerts = alerts.filter(alert =>\r\n    alert.acknowledgedBy.some(ack => ack.userId === user.id)\r\n  );\r\n\r\n  return (\r\n    <div className=\"alerts-tab\">\r\n      <h2>Emergency Alerts</h2>\r\n\r\n      <div className=\"alerts-section\">\r\n        <h3>Active Alerts ({activeAlerts.length})</h3>\r\n        <div className=\"alerts-list\">\r\n          {activeAlerts.map(alert => (\r\n            <div key={alert._id} className={`alert-item ${alert.severity}`}>\r\n              <div className=\"alert-header\">\r\n                <span className=\"alert-type\">{alert.type.replace('_', ' ').toUpperCase()}</span>\r\n                <span className=\"alert-severity\">{alert.severity}</span>\r\n                <span className=\"alert-time\">\r\n                  {format(new Date(alert.createdAt), 'MMM dd, HH:mm')}\r\n                </span>\r\n              </div>\r\n              <div className=\"alert-content\">\r\n                <h4>{alert.title}</h4>\r\n                <p>{alert.message}</p>\r\n                {alert.recommendedActions && alert.recommendedActions.length > 0 && (\r\n                  <div className=\"alert-actions\">\r\n                    <h5>Recommended Actions:</h5>\r\n                    <ul>\r\n                      {alert.recommendedActions.map((action, index) => (\r\n                        <li key={index}>{action.action}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n                <button\r\n                  onClick={() => onAcknowledge(alert._id)}\r\n                  className=\"acknowledge-btn\"\r\n                  disabled={alert.acknowledgedBy.some(ack => ack.userId === user.id)}\r\n                >\r\n                  {alert.acknowledgedBy.some(ack => ack.userId === user.id) ? 'Acknowledged' : 'Acknowledge'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {activeAlerts.length === 0 && (\r\n            <div className=\"no-alerts\">No active alerts</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"alerts-section\">\r\n        <h3>Acknowledged Alerts ({acknowledgedAlerts.length})</h3>\r\n        <div className=\"alerts-list\">\r\n          {acknowledgedAlerts.slice(0, 5).map(alert => (\r\n            <div key={alert._id} className=\"alert-item acknowledged\">\r\n              <div className=\"alert-header\">\r\n                <span className=\"alert-type\">{alert.type.replace('_', ' ').toUpperCase()}</span>\r\n                <span className=\"alert-time\">\r\n                  {format(new Date(alert.createdAt), 'MMM dd, HH:mm')}\r\n                </span>\r\n              </div>\r\n              <div className=\"alert-content\">\r\n                <h4>{alert.title}</h4>\r\n                <p>{alert.message}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AlertsTab;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}